<div class="page-header">
  <h2> Sibling </h2>
</div>
<% if current_user.role?("teacher") || current_user.role?("office") || current_user.role?("assistant") %>
  <button type="button" class="btn btn-info" data-toggle="modal" data-target="#add-sibling">
    Add Sibling 
  </button>
<% end %>
<table class="table table-striped" style="margin-top: 30px; margin-bottom: 50px;">
  <thead>
    <tr>
      <th class="col-md-1">Id</th>
      <th class="col-md-1">Name</th>
      <th class="col-md-1">Phone</th>
      <th class="col-md-1">Email</th>
      <th class="col-md-1">Gender</th>
      <th class="col-md-1">Street</th>
      <th class="col-md-1">City</th>
      <th class="col-md-1"></th>
    </tr>
  </thead>
  <tbody>
    <% @student.siblings.each do |sibling| %>
      <tr> 
        <td><%= sibling.id %></td>
        <td><%= sibling.name %></td>
        <td><%= sibling.f_phone %></td>
        <td><%= sibling.email %></td>
        <td><%= sibling.gender %></td>
        <td><%= sibling.street %></td>
        <td><%= sibling.city %></td>
        <td>
        <% if current_user.role?("teacher") || current_user.role?("office") || current_user.role?("assistant") %>
          <button class="btn btn-info btn-sm" class="remove_sibling" > Edit </button>
          <button class="btn btn-danger btn-sm" class="remove_sibling"> Delete </button>
        <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<% if current_user.role?("teacher") || current_user.role?("office") || current_user.role?("assistant") %>
  <!-- Modal -->
  <div class="modal fade" id="add-sibling" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="myModalLabel">Add Sibling</h4>
        </div>
        <%= simple_form_for StudentSibling.new, :html => {:class => "form-horizontal student_sibling"} do |f| %>
          <div class="modal-body">
            <h5>Select Sibling</h5>
            <%= f.hidden_field :student_id, :input_html => { :value => @student.id } %>
            <label>Select Student</label>
            <%= select_tag "sibling_id", options_from_collection_for_select(Student.all, "id", "name", ""), { class: 'form-controddl' } %>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
             <%= f.button :submit, :class => 'btn btn-primary' %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
<% end %>